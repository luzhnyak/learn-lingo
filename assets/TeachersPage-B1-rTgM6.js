import{r as c,j as e,F as v,u as m,R as L,a as h,b as g}from"./index-BP571P_Z.js";import{C as x}from"./Card-Bghan_Jp.js";const j="_scrollUp_efput_1",w={scrollUp:j},b=()=>{const[i,o]=c.useState(!1);c.useEffect(()=>{const t=()=>{o(window.scrollY>1200)};return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e.jsx("div",{children:i&&e.jsx("div",{className:w.scrollUp,onClick:n,children:e.jsx(v,{})})})},F="_btn_dsken_1",S={btn:F},T=()=>{const{loadTeachers:i}=m(n=>({loading:n.loading,error:n.error,items:n.items,loadTeachers:n.loadTeachers})),o=()=>{i()};return e.jsx("button",{className:S.btn,type:"button",onClick:o,children:"Load more"})},W="_container_1v7n6_1",E="_languagesWrapper_1v7n6_9",N="_levelWrapper_1v7n6_13",A="_label_1v7n6_17",P="_select_1v7n6_25",C="_option_1v7n6_38",k="_inputStyle_1v7n6_47",y="_btn_1v7n6_69",I="_inputWrapper_1v7n6_85",R="_inputLabel_1v7n6_90",U="_inputFrom_1v7n6_96",M="_inputTo_1v7n6_111",u={container:W,languagesWrapper:E,levelWrapper:N,label:A,select:P,option:C,inputStyle:k,btn:y,inputWrapper:I,inputLabel:R,inputFrom:U,inputTo:M},D="_wrapper_13gir_1",O="_btn_13gir_8",$="_listWrapper_13gir_28",B="_list_13gir_28",V="_item_13gir_48",f={wrapper:D,btn:O,listWrapper:$,list:B,item:V},K=L.forwardRef(({items:i,onSelect:o,onClose:n},t)=>{const r=c.useRef(null);return c.useEffect(()=>{const l=p=>{p.code==="Escape"&&n(!1)},a=p=>{r.current&&!r.current.contains(p.target)&&t.current&&!t.current.contains(p.target)&&n(!1)};return window.addEventListener("keydown",l),document.addEventListener("mousedown",a),()=>{window.removeEventListener("keydown",l),document.removeEventListener("mousedown",a)}},[n]),e.jsx("div",{className:f.listWrapper,ref:r,children:e.jsx("ul",{className:f.list,children:i.map(l=>e.jsx("li",{className:f.item,onClick:()=>o(l),children:l},l))})})}),_=({items:i=[],defaultSelect:o,onSelect:n})=>{const[t,r]=c.useState(!1),[l,a]=c.useState(o),p=c.useRef(null),s=d=>{n(d),a(d),r(!1)};return e.jsxs("div",{className:f.wrapper,children:[e.jsxs("button",{className:f.btn,onClick:()=>{r(!t)},ref:p,children:[l,e.jsx(h,{width:"20",height:"20"})]}),t&&e.jsx(K,{items:i,onSelect:s,onClose:()=>r(!1),ref:p})]})},G=["All","English","Spanish","French","German","Italian","Korean","Vietnamese","Mandarin Chinese"],Y=["All","A1 Beginner","A2 Elementary","B1 Intermediate","B2 Upper-Intermediate","C1 Advanced","C2 Proficient"],q=["All","10","20","30","40","50","60"],z=()=>{const{filterLanguage:i,setFilterLanguage:o,filterLevel:n,setFilterLevel:t,filterPrice:r,setFilterPrice:l}=g(a=>({filterLanguage:a.filterLanguage,setFilterLanguage:a.setFilterLanguage,filterLevel:a.filterLevel,setFilterLevel:a.setFilterLevel,filterPrice:a.filterPrice,setFilterPrice:a.setFilterPrice}));return e.jsxs("div",{className:u.container,children:[e.jsxs("div",{className:u.languagesWrapper,children:[e.jsx("span",{className:u.label,children:"Languages"}),e.jsx(_,{items:G,defaultSelect:i||"All",onSelect:o})]}),e.jsxs("div",{className:u.levelWrapper,children:[e.jsx("span",{className:u.label,children:"Level of knowledge"}),e.jsx(_,{items:Y,defaultSelect:n||"All",onSelect:t})]}),e.jsxs("div",{className:u.levelWrapper,children:[e.jsx("span",{className:u.label,children:"Price"}),e.jsx(_,{items:q,defaultSelect:r||"All",onSelect:l})]})]})},Q=()=>{const{items:i,loadTeachers:o,isLoadMore:n}=m(s=>({loading:s.loading,isLoadMore:s.isLoadMore,error:s.error,items:s.items,loadTeachers:s.loadTeachers})),{filterLanguage:t,filterLevel:r,filterPrice:l}=g(s=>({filterLanguage:s.filterLanguage,filterLevel:s.filterLevel,filterPrice:s.filterPrice}));c.useEffect(()=>{o()},[o]);const[a,p]=c.useState(i);return c.useEffect(()=>{let s=[...i];t&&t!=="All"&&(s=s.filter(d=>d.languages.includes(t))),r&&r!=="All"&&(s=s.filter(d=>d.levels.includes(r))),l&&l!=="All"&&(s=s.filter(d=>+d.price_per_hour<=+l)),p([...s])},[i,t,r,l]),e.jsxs("main",{className:"container",children:[e.jsx(z,{}),a.map(s=>e.jsx(x,{data:s},s.id)),n&&e.jsx(T,{}),e.jsx(b,{})]})};export{Q as default};
